language: node_js
node_js: "10"

cache:
  yarn: true
  directories:
    - packages/commercetools/api-client/node_modules
    - packages/commercetools/api-client/lib
    - packages/commercetools/composables/node_modules
    - packages/commercetools/composables/lib


install:
  - yarn

jobs:
  include:
    - stage: Build
      name: "Build"
      script:
        - yarn build:ct:tools

    - stage: test
      script: yarn test:ct:api-client
      name: "Test commercetools api-client"

    - stage: test
      script: yarn test:ct:composables
      name: "Test commercetools composables"

    - stage: test
      script: yarn test:ct:helpers
      name: "Test commercetools helpers"

